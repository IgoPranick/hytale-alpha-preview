<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hytale</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #0c0c14;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      overflow: hidden;
    }

    .logo {
      max-width: 320px;
      margin-bottom: 50px;
      opacity: 0;
      animation: fade-in 1.5s ease-out forwards;
    }

    .skyrim-loader-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 80px; 
      opacity: 0;
      animation: fade-in 1s 1.8s ease-out forwards;
    }

    /* Боковые линии (золотые усы) */
    .line-extension {
      flex-grow: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, #c5a966 100%);
      opacity: 0.5;
    }
    .line-extension.right {
      background: linear-gradient(-90deg, transparent 0%, #c5a966 100%);
    }

    .node-dot {
      width: 4px;
      height: 4px;
      background: #000;
      border: 1px solid #c5a966;
      border-radius: 50%;
      margin: 0 6px;
      box-shadow: 0 0 4px #c5a966;
    }

    /* === SVG БАР === */
    .skyrim-svg-bar {
      width: 460px;
      height: 50px; 
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.6));
      overflow: visible;
    }

    .bar-frame {
      fill: rgba(0, 0, 0, 0.6); 
      stroke: #c5a966;
      stroke-width: 1.5px;
      vector-effect: non-scaling-stroke;
      stroke-linejoin: miter;
      stroke-miterlimit: 4;
    }

    /* Стиль заполнения (ТВОИ ЦВЕТА СОХРАНЕНЫ) */
    .progress-fill-rect {
      fill: url(#magicka-gradient); 
      width: 0%;
      height: 100%;
      /* Твое свечение */
      filter: drop-shadow(0 0 5px rgba(45, 123, 255, 0.6));
      animation: fill-svg 4s 2s ease-in-out forwards;
    }

    /* Стиль тонких серых линий сверху и снизу */
    .faint-line {
      stroke: url(#faint-grey-gradient);
      stroke-width: 1px;
      fill: none;
      vector-effect: non-scaling-stroke;
      opacity: 0.6; 
    }

    /* Контейнер для кнопки и видео, чтобы они занимали одно место */
    .content-area {
        position: relative; /* Чтобы дочерние абсолютные элементы позиционировались относительно него */
        margin-top: 50px;
        width: 560px; /* Ширина видео */
        height: 315px; /* Примерная высота видео (16:9 для 560px ширины) */
        display: flex; /* Для центрирования кнопки */
        justify-content: center;
        align-items: center;
    }

    /* Стили для кнопки */
    .show-video-button {
      padding: 15px 30px;
      font-size: 1.2em;
      color: #c5a966;
      background-color: rgba(0, 0, 0, 0.6);
      border: 1px solid #c5a966;
      border-radius: 5px;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      outline: none;
      box-shadow: 0 0 10px rgba(197, 169, 102, 0.4);
      position: absolute; /* Позиционируем абсолютно, чтобы не влиять на поток документа */
      z-index: 10; /* Кнопка выше видео */
    }
    .show-video-button:hover {
      background-color: rgba(197, 169, 102, 0.1);
      box-shadow: 0 0 15px rgba(197, 169, 102, 0.6);
    }

    /* КОНТЕЙНЕР ВИДЕО: Изначально скрыт, появляется по нажатию */
    .video-container {
      opacity: 0;
      transition: opacity 1s ease-in-out; /* Плавное появление видео */
      position: absolute; /* Позиционируем абсолютно, чтобы занимать то же место */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex; /* Чтобы видео центрировалось внутри контейнера, если оно меньше */
      justify-content: center;
      align-items: center;
      pointer-events: none; /* Изначально не реагирует на события мыши */
    }
    .video-container.active {
      opacity: 1; /* Показываем, когда активно */
      pointer-events: all; /* Включаем события мыши, когда видео активно */
    }
    
    video {
      width: 560px;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.8);
      outline: none;
      border: 1px solid #333;
    }

    @keyframes fade-in { to { opacity: 1; } }
    @keyframes fill-svg { 
      0% { width: 0%; }
      100% { width: 100%; } 
    }
  </style>
</head>
<body>

  <img src="assets\img\Hytale_logo.jpg" alt="Hytale" class="logo">

  <div class="skyrim-loader-wrapper">
    <div class="line-extension"></div>
    <div class="node-dot"></div>

    <svg class="skyrim-svg-bar" viewBox="-10 -15 420 50" preserveAspectRatio="xMidYMid meet">
      <defs>
        <linearGradient id="faint-grey-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="transparent" />
          <stop offset="20%" stop-color="#888888" />
          <stop offset="80%" stop-color="#888888" />
          <stop offset="100%" stop-color="transparent" />
        </linearGradient>

        <!-- ТВОЙ ГРАДИЕНТ (СОХРАНЕН) -->
        <linearGradient id="magicka-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#4d47b5" />  
          <stop offset="50%" stop-color="#348dd5" /> 
          <stop offset="100%" stop-color="#4db0ce" /> 
        </linearGradient>

        <path id="bar-shape" d="
          M 1 10 
          L 8 5 
          L 192 5 
          L 200 0 
          L 208 5 
          L 392 5 
          L 399 10 
          L 392 15 
          L 208 15 
          L 200 20 
          L 192 15 
          L 8 15 
          Z" 
        />
        
        <clipPath id="shape-mask">
          <use href="#bar-shape" />
        </clipPath>
      </defs>

      <path d="M 10 -4 L 390 -4" class="faint-line" />
      <path d="M 10 24 L 390 24" class="faint-line" />

      <use href="#bar-shape" class="bar-frame" style="stroke: none;" />

      <g clip-path="url(#shape-mask)">
        <rect class="progress-fill-rect" x="-10" y="-10" width="0" height="40" />
      </g>

      <use href="#bar-shape" class="bar-frame" fill="none" />
    </svg>

    <div class="node-dot"></div>
    <div class="line-extension right"></div>
  </div>

  <!-- Общий контейнер для кнопки и видео -->
  <div class="content-area">
    <!-- Новая кнопка -->
    <button id="showVideoButton" class="show-video-button">Register on Beta!</button>

    <div class="video-container" id="videoContainer"></div>
  </div>

  <script>
    const showVideoButton = document.getElementById('showVideoButton');
    const videoContainer = document.getElementById('videoContainer');
    let videoElement = null; // Переменная для хранения элемента видео

    // Появление кнопки после завершения анимации загрузки
    setTimeout(() => {
      showVideoButton.style.opacity = '1';
    }, 6500); // Совпадает с задержкой, когда раньше появлялось видео

    // Обработчик события для кнопки
    showVideoButton.addEventListener('click', () => {
      // Скрываем кнопку
      showVideoButton.style.opacity = '0';
      showVideoButton.style.pointerEvents = 'none'; // Отключаем клики

      // Вставляем видео, если его еще нет
      if (!videoElement) {
        videoContainer.innerHTML = `
          <video
            id="rickroll"
            autoplay
            loop
            playsinline
            controls
            style="display:block;">
            <source src="assets/videos/Rick_Roll.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        `;
        videoElement = document.getElementById('rickroll');
      }

      // Добавляем класс 'active' для отображения контейнера
      // Запускаем плавное появление видео через CSS transition opacity
      videoContainer.classList.add('active');

      // Автоплей видео (если не отключен браузером)
      if (videoElement) {
        videoElement.muted = false; // Отключаем звук, если это необходимо
        videoElement.play().catch(e => {
          console.log("Автоплей видео не сработал:", e);
        });
      }
    });
  </script>
</body>
</html>