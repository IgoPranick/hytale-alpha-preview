<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hytale</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #0c0c14;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      overflow: hidden;
    }

    .logo {
      max-width: 320px;
      margin-bottom: 50px;
      opacity: 0;
      animation: fade-in 1.5s ease-out forwards;
    }

    .skyrim-loader-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 80px; 
      opacity: 0;
      animation: fade-in 1s 1.8s ease-out forwards;
    }

    /* Боковые линии (золотые усы) */
    .line-extension {
      flex-grow: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, #c5a966 100%);
      opacity: 0.5;
    }
    .line-extension.right {
      background: linear-gradient(-90deg, transparent 0%, #c5a966 100%);
    }

    .node-dot {
      width: 4px;
      height: 4px;
      background: #000;
      border: 1px solid #c5a966;
      border-radius: 50%;
      margin: 0 6px;
      box-shadow: 0 0 4px #c5a966;
    }

    /* === SVG БАР === */
    .skyrim-svg-bar {
      width: 460px;
      height: 50px; 
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.6));
      overflow: visible;
    }

    .bar-frame {
      fill: rgba(0, 0, 0, 0.6); 
      stroke: #c5a966;
      stroke-width: 1.5px;
      vector-effect: non-scaling-stroke;
      stroke-linejoin: miter;
      stroke-miterlimit: 4;
    }

    /* Стиль заполнения (ТВОИ ЦВЕТА СОХРАНЕНЫ) */
    .progress-fill-rect {
      fill: url(#magicka-gradient); 
      width: 0%;
      height: 100%;
      /* Твое свечение */
      filter: drop-shadow(0 0 5px rgba(45, 123, 255, 0.6));
      animation: fill-svg 4s 2s ease-in-out forwards;
    }

    /* Стиль тонких серых линий сверху и снизу */
    .faint-line {
      stroke: url(#faint-grey-gradient);
      stroke-width: 1px;
      fill: none;
      vector-effect: non-scaling-stroke;
      opacity: 0.6; 
    }

    /* КОНТЕЙНЕР ВИДЕО: Изменил transition на 2s для плавности */
    .video-container {
      margin-top: 50px;
      opacity: 0;
      transition: opacity 2s ease-in-out;
    }
    
    video {
      width: 560px;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.8);
      outline: none;
      border: 1px solid #333;
    }

    @keyframes fade-in { to { opacity: 1; } }
    @keyframes fill-svg { 
      0% { width: 0%; }
      100% { width: 100%; } 
    }
  </style>
</head>
<body>

  <img src="assets\img\Hytale_logo.jpg" alt="Hytale" class="logo">

  <div class="skyrim-loader-wrapper">
    <div class="line-extension"></div>
    <div class="node-dot"></div>

    <svg class="skyrim-svg-bar" viewBox="-10 -15 420 50" preserveAspectRatio="xMidYMid meet">
      <defs>
        <linearGradient id="faint-grey-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="transparent" />
          <stop offset="20%" stop-color="#888888" />
          <stop offset="80%" stop-color="#888888" />
          <stop offset="100%" stop-color="transparent" />
        </linearGradient>

        <!-- ТВОЙ ГРАДИЕНТ (СОХРАНЕН) -->
        <linearGradient id="magicka-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#4d47b5" />  
          <stop offset="50%" stop-color="#348dd5" /> 
          <stop offset="100%" stop-color="#4db0ce" /> 
        </linearGradient>

        <path id="bar-shape" d="
          M 1 10 
          L 8 5 
          L 192 5 
          L 200 0 
          L 208 5 
          L 392 5 
          L 399 10 
          L 392 15 
          L 208 15 
          L 200 20 
          L 192 15 
          L 8 15 
          Z" 
        />
        
        <clipPath id="shape-mask">
          <use href="#bar-shape" />
        </clipPath>
      </defs>

      <path d="M 10 -4 L 390 -4" class="faint-line" />
      <path d="M 10 24 L 390 24" class="faint-line" />

      <use href="#bar-shape" class="bar-frame" style="stroke: none;" />

      <g clip-path="url(#shape-mask)">
        <rect class="progress-fill-rect" x="-10" y="-10" width="0" height="40" />
      </g>

      <use href="#bar-shape" class="bar-frame" fill="none" />
    </svg>

    <div class="node-dot"></div>
    <div class="line-extension right"></div>
  </div>

  <div class="video-container" id="video"></div>

  <script>
    // Обновленный скрипт для плавного появления
    setTimeout(() => {
      const videoContainer = document.getElementById('video');
      
      // 1. Вставляем видео сразу с display:block (но оно невидимо из-за opacity: 0 в CSS)
      videoContainer.innerHTML = `
        <video
          id="rickroll"
          autoplay
          loop
          playsinline
          controls
          style="display:block;">
          <source src="assets/videos/Rick_Roll.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      `;

      // 2. Делаем микро-паузу (50мс), чтобы браузер "увидел" элемент,
      // а потом запускаем анимацию opacity
      setTimeout(() => {
        videoContainer.style.opacity = '1';

        const video = document.getElementById('rickroll');
        if (video) {
          video.muted = false;
          video.play().catch(e => {
            console.log("Автоплей не сработал");
          });
        }
      }, 50);

    }, 6500);
  </script>
</body>
</html>